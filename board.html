<!DOCTYPE HTML>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Devstone(d)</title>

		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/style.css" />
        <link rel="stylesheet" type="text/css" href="css_leap/style.css" media="screen" />
        <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	</head>

	<body>

		<div class="main-container">
		   <section class="body">
		   		<div class="center board" id="board">
					<div id="user-1" class="player hidden active test blue"></div>
					<div id="user-2" class="player hidden test red"></div>
					<div id="user-3" class="player hidden test green"></div>
					<div id="user-4" class="player hidden test yellow"></div>
			   		<div class="row">
						<div id="position-1" class="col-md-2 board-box start-box">
							<span class="label">Start</span>
						</div>
						<div id="position-2" class="col-md-2 board-box simple-box"></div>
						<div id="position-3" class="col-md-2 board-box duck-box"><span class="label">Bonus++</span></div>
						<div id="position-4" class="col-md-2 board-box simple-box"></div>
						<div id="position-5" class="col-md-2 board-box question-box"><span class="label">Surprise!?</span></div>
						<div id="position-6" class="col-md-2 board-box lunch-box"><span class="label">Lunch Time</span></div>
					</div>
					<div class="row">
						<div id="position-20"class="col-md-2 board-box simple-box"></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div id="position-7"class="col-md-2 board-box card-box"><span class="label">Pick a Card</span></div>
					</div>
					<div class="row">
						<div id="position-19" class="col-md-2 board-box simple-box"></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div id="position-8" class="col-md-2 board-box simple-box"></div>
					</div>
					<div class="row">
						<div id="position-18" class="col-md-2 board-box simple-box"></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div id="position-9" class="col-md-2 board-box simple-box"></div>
					</div>
					<div class="row">
						<div id="position-17" class="col-md-2 board-box card-box"><span class="label">Pick a Card</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div class="col-md-2 non-visible board-box"><span class="label">Box</span></div>
						<div id="position-10" class="col-md-2 board-box simple-box"></div>
					</div>
					<div class="row">
						<div id="position-16" class="col-md-2 board-box black-box"><span class="label">Dev Jail</span></div>
						<div id="position-15" class="col-md-2 board-box question-box"><span class="label">Surprise!?</span></div>
						<div id="position-14" class="col-md-2 board-box simple-box"></div>
						<div id="position-13"class="col-md-2 board-box duck-box"><span class="label">Bonus++</span></div>
						<div id="position-12" class="col-md-2 board-box simple-box"></div>
						<div id="position-11" class="col-md-2 board-box crossroad-box"><span class="label">Crossroad</span></div>
					</div>
				</div>
		   </section>
		</div>
		<div id="get_card" class="non-visible">
			<div class="hover panel">
	            <div class="front card">
	            	<img src="img/cards/back.jpg"/>
	            </div>
		        <div class="back card">
		         	<img id="front_card" src=""/>
		        </div>
        	</div>
		</div>
		<button id="restart">Restart</button>
	</body>

	<!-- Scripts -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		var socket = io.connect('/');
		socket.on("connect", function(){
			socket.emit('initialize_board');
		});

		//handle user events 
		socket.on("update", function(userId, pos, show_card) {
			changePosition(userId, pos, show_card);
		});
		socket.on("join", function(userId) {
			addUser(userId);
		});
		socket.on("nextTurn", function(userId) {
			changeActive(userId);
		});

		$('#restart').click(function(){
			socket.emit('restart');
			window.location.reload();
		});

		function changePosition(userId, pos, show_card) {
			var activeUser = $( '#user-' + userId ).detach();
			activeUser.appendTo('#position-' + pos);
			if(show_card)
				$('#get_card').removeClass('non-visible');
			else
				$('#get_card').addClass('non-visible');
		}
		function addUser(userId) {
			$('#user-' + userId).removeClass("hidden");
		}
		function changeActive(userId) {
			//bold pin of the user
			$(".active").removeClass("active");
			$("#user-" + userId).addClass("active");
		}
	</script>
	<script src="js_leap/jquery.min.js"></script> 
    <script src="js_leap/leap.js"></script>
    <script src="js_leap/leap-plugins-0.1.4.js"></script>
    <script src="js_leap/main.js"></script> 
</html>

